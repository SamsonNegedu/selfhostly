# =============================================================================
# Selfhostly Configuration
# Copy this file to .env and fill in your values
# =============================================================================

# =============================================================================
# Application Environment
# =============================================================================

# Environment: development, staging, production (default: production)
# Controls debug mode, logging verbosity, and availability of debug endpoints
APP_ENV=production

# Server configuration
# SERVER_ADDRESS=:8080
# DATABASE_PATH=./data/selfhostly.db
# APPS_DIR=./apps

# =============================================================================
# Authentication
# =============================================================================

# RECOMMENDED: Deploy behind Cloudflare Zero Trust and set AUTH_ENABLED=false
# Cloudflare handles authentication at the edge - simpler and more secure!
# See: https://developers.cloudflare.com/cloudflare-one/applications/configure-apps/
AUTH_ENABLED=false

# Alternative: Enable GitHub OAuth with username whitelist
# If you can't use Cloudflare Zero Trust, uncomment and configure below:
# AUTH_ENABLED=true
# JWT_SECRET=your-strong-random-secret-at-least-32-characters-long
# GITHUB_CLIENT_ID=your_github_client_id
# GITHUB_CLIENT_SECRET=your_github_client_secret
# GITHUB_ALLOWED_USERS=your-github-username,other-allowed-username
# AUTH_BASE_URL=https://your-domain.com
# AUTH_SECURE_COOKIE=true

# =============================================================================
# Multi-Node Configuration (optional - for distributed deployments)
# =============================================================================

# Node Identity (auto-generated if not set)
# NODE_ID=auto
# NODE_NAME=primary  # Defaults to hostname if not set

# Primary vs Secondary Node
# Set to false ONLY on secondary nodes
NODE_IS_PRIMARY=true

# API Key for this node (auto-generated if not set)
# Other nodes use this key to authenticate with this node
# NODE_API_KEY=auto-generated-secure-key

# For Secondary Nodes ONLY:
# URL of the primary node (leave empty for primary node)
# PRIMARY_NODE_URL=http://192.168.1.10:8080
# PRIMARY_NODE_API_KEY=<api-key-from-primary>

# NOTE: Secondary nodes sync Cloudflare credentials from primary automatically
# Do NOT set CLOUDFLARE_* variables on secondary nodes

# =============================================================================
# Cloudflare (optional - for tunnel management)
# =============================================================================

# Cloudflare API Token (needs Zone:DNS:Edit and Account:Cloudflare Tunnel:Edit)
# PRIMARY NODE ONLY - Secondary nodes sync this automatically
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token

# Cloudflare Account ID (find in Cloudflare dashboard)
# PRIMARY NODE ONLY - Secondary nodes sync this automatically
CLOUDFLARE_ACCOUNT_ID=your_cloudflare_account_id

# Cloudflare Tunnel Token (for the selfhostly tunnel itself)
TUNNEL_TOKEN=your_tunnel_token
